{"ast":null,"code":"var _jsxFileName = \"/Users/antoine/ecommteam4/src/components/productDetail/ProductDetailItem.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Button, Snackbar, Alert, AlertTitle } from \"@mui/material\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { cartActions } from \"../../redux/slice/cartList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductDetailItem(_ref) {\n  _s();\n  let {\n    product\n  } = _ref;\n  const cartList = useSelector(state => state.cart.cartList);\n  const dispatch = useDispatch();\n  const updateProduct = {\n    ...product,\n    quantity: 1\n  };\n  const isInCart = cartList.some(item => item.id === product.id);\n  const [openCart, setOpenCart] = useState(false);\n  const [addCart, setAddCart] = useState(false);\n  const handleClickCart = () => {\n    setOpenCart(true);\n  };\n  const handleAddCart = () => {\n    setAddCart(true);\n  };\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setOpenCart(false);\n    setAddCart(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"image\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: product.image,\n        width: \"100px\",\n        height: \"150px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"name-description\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: product.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: product.price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: product.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            isInCart ? handleClickCart() : dispatch(cartActions.addToCart(updateProduct)) && handleAddCart();\n          },\n          children: \"Add to cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: addCart,\n        autoHideDuration: 2000,\n        onClose: handleClose,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          onClose: handleClose,\n          severity: \"success\",\n          children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n            children: \"Success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 26\n          }, this), \"Item added to your cart!!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: openCart,\n        autoHideDuration: 2000,\n        onClose: handleClose,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          onClose: handleClose,\n          severity: \"error\",\n          sx: {\n            width: \"100%\"\n          },\n          children: \"The product is already in your cart!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n_s(ProductDetailItem, \"Sp494WiHKKNxz2K1bAeBTBrTHb8=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = ProductDetailItem;\nvar _c;\n$RefreshReg$(_c, \"ProductDetailItem\");","map":{"version":3,"names":["React","useState","Button","Snackbar","Alert","AlertTitle","useSelector","useDispatch","cartActions","ProductDetailItem","product","cartList","state","cart","dispatch","updateProduct","quantity","isInCart","some","item","id","openCart","setOpenCart","addCart","setAddCart","handleClickCart","handleAddCart","handleClose","event","reason","image","title","price","description","addToCart","width"],"sources":["/Users/antoine/ecommteam4/src/components/productDetail/ProductDetailItem.tsx"],"sourcesContent":["import React, {useState} from \"react\";\nimport { Button,Snackbar,Alert, AlertTitle } from \"@mui/material\";\nimport { useSelector, useDispatch} from \"react-redux\";\n\nimport {ProductDetail} from \"../../types/type\";\nimport { RootState } from \"../../redux/store\";\nimport { cartActions } from \"../../redux/slice/cartList\";\n\nexport default function ProductDetailItem({product}: ProductDetail){\n    const cartList = useSelector((state: RootState)=> state.cart.cartList);\n    const dispatch = useDispatch();\n    const updateProduct = {...product, quantity: 1}\n    const isInCart= cartList.some((item)=> \n      item.id === product.id\n    );\n    const [openCart, setOpenCart] = useState(false);\n    const [addCart, setAddCart]= useState(false)\n\n    const handleClickCart = () => {\n        setOpenCart(true);\n    }\n    const handleAddCart = ()=>{\n        setAddCart(true);\n    }\n    const handleClose = (\n        event?: React.SyntheticEvent | Event,\n        reason?: string\n    ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n        setOpenCart(false);\n        setAddCart(false);\n    };\n    return (\n        <div> \n            <div className=\"image\"><img src={product.image} width=\"100px\" height=\"150px\"/></div>\n            <div className=\"name-description\">\n                <div>{product.title}</div>\n                <div>{product.price}</div>\n                <div>{product.description}</div>\n                <div><Button onClick={() =>{\n                    isInCart? handleClickCart()\n                            : dispatch(cartActions.addToCart(updateProduct)) && handleAddCart();\n                    }}>\n                            Add to cart\n                    </Button>\n                </div>\n                <Snackbar open={addCart} autoHideDuration={2000} onClose={handleClose}>\n                    <Alert onClose={handleClose} severity=\"success\">\n                         <AlertTitle>Success</AlertTitle>\n                            Item added to your cart!!\n                    </Alert>\n                </Snackbar>\n                <Snackbar open={openCart} autoHideDuration={2000} onClose={handleClose}>\n                     <Alert onClose={handleClose} severity=\"error\" sx={{ width: \"100%\" }}>\n                            The product is already in your cart!!\n                    </Alert>\n                </Snackbar>\n            </div>\n        </div>\n       );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}